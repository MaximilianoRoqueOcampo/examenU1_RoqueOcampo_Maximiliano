<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='../css/bootstrap.css'>
    <style>
        header {
      width: 100%;
      background-color: #f8f9fa;
      border-bottom: 1px solid #dee2e6;
      padding: 10px 0;
    }
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
    .search-form {
      flex-grow: 1;
      margin: 0 15px;
    }
    .navbar {
      padding: 5px 0; 
    }
    .filter-box {
      margin: 0 20px; /* Añadir un poco de espacio a los lados */
      margin-top: 20px;
    }
    #nave, #log{
        text-align: center;
    }
    </style>
</head>
<body>
    <header>
        <div class="container-fluid">
          <div class="row align-items-center">
            <!--SE CREAN COLUMNAS CON TAMAÑOS PARA EL LOGO-->
            <div class="col-lg-2" id="log">
              <img src="../img/logo.png" alt="" width="100px" height="60px">
            </div>
             <!--SE CREAN COLUMNAS CON TAMAÑOS PARA LA BARRA DE BUSQUEDA-->
            <div class="col-lg-6">
              <form class="mb-2 mb-lg-0">
                <input type="search" class="form-control" placeholder="Buscar..." aria-label="Search">
              </form>
            </div>
             <!--SE CREAN COLUMNAS CON TAMAÑOS PARA LOS ENLACES-->
            <div class="col-lg-4">
              <nav id="nave">
                <a class="me-5 py-2 link-body-emphasis text-decoration-none" href="../index.html">Catalogo</a>
                <a class="me-5 py-2 link-body-emphasis text-decoration-none" href="../html/login.html">Ingresar</a>
                <img src="../img/carrito.png" alt="" width="35px" height="35px">
              </nav>
            </div>
          </div>
        </div>
      </header>

      <div class="container">
        <div class="col col-md-12">
            <br><br>
            <h1><center>Registro de clientes</center></h1>
            <br>
            <table class="table table-striped table-hover" id="tabla">
              <thead>
                <tr>
                  <th scope="col">#</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Teléfono</th>
                  <th scope="col">Correo Electrónico</th>
                  <th scope="col">Dirección</th>
                  <th scope="col">Acciones</th>
                </tr>
              </thead>
              <tbody id="cuerpoTabla">
                <!-- Aquí se insertan los registros iniciales -->
              </tbody>
            </table>
          </div>
      </div>
    

      <script>
        getParameter = (key) => {
          address = window.location.search; // url de la ventana actual
          // Objeto de tipo URLSearchParams
          parameterList = new URLSearchParams(address);
          // Regresa el valor del parámetro “key”
          return parameterList.get(key);
        }
    
        function registrarProducto() {
    
          /*Obtener los anteriores
          var datos = document.getElementsByTagName("table")[0].rows;
          var data = {}
          Array.from(datos).forEach(element => {
            console.log(element.innerHTML);
          });*/
    
          var nombrePersona = getParameter("nombre");
          var telPersona = getParameter("telefono");
          var correoPersona = getParameter("email");
          var direPersona = getParameter("direccion");
          var contraPersona = getParameter("contraseña1");
          var contra2Persona = getParameter("contraseña2");
    
          i = 5;
    
          if (nombrePersona != null && telPersona != null && correoPersona != null && direPersona != null && contraPersona != null && contra2Persona != null) {
        if (nombrePersona != "" && telPersona != "" && correoPersona != "" && direPersona != "" && contraPersona != "" && contra2Persona != "") {
            //alert("Se registro un numevo articulo");
            tabla = document.getElementById("cuerpoTabla");
            nuevoRegistro = document.createElement("tr");
    
            id = document.createElement("th");
            id.innerHTML = i;
            id.scope = "row";
    
            nombre = document.createElement("td");
            nombre.innerHTML = nombrePersona;
    
            telefono = document.createElement("td");
            var enlaceTelefono = document.createElement("a");
            enlaceTelefono.href = `tel:${telPersona}`; // Aquí se define correctamente el href del enlace
            enlaceTelefono.innerHTML = telPersona;
    
            correo = document.createElement("td");
            var enlaceCorreo = document.createElement("a");
            enlaceCorreo.href = `mailto:${correoPersona}`; // Aquí se define correctamente el href del enlace
            enlaceCorreo.innerHTML = correoPersona;
    
            direccion = document.createElement("td");
            direccion.innerHTML = direPersona;
    
            modifica = document.createElement("td");
            elimina = document.createElement("td");
    
            accion1 = document.createElement("a");
            accion1.innerHTML = "Modifica";
            accion1.addEventListener("click", () => { modificar(accion1); });
            modifica.appendChild(accion1);
    
            accion2 = document.createElement("a");
            accion2.innerHTML = "Eliminar";
            accion2.addEventListener("click", () => { eliminar(accion2); });
            elimina.appendChild(accion2);
    
            telefono.appendChild(enlaceTelefono); // Añade el enlace a la celda de teléfono
            correo.appendChild(enlaceCorreo);
    
            nuevoRegistro.appendChild(id);
            nuevoRegistro.appendChild(nombre);
            nuevoRegistro.appendChild(telefono);
            nuevoRegistro.appendChild(correo);
            nuevoRegistro.appendChild(direccion);
            nuevoRegistro.appendChild(modifica);
            nuevoRegistro.appendChild(elimina);
    
            tabla.appendChild(nuevoRegistro); // Añade la nueva fila a la tabla
        }
    }
    
    
        }
     
        window.addEventListener("load", registrarProducto);
    
        function modificar(element) {
          element.parentElement.parentElement.remove();
        }
    
        function eliminar(element) {
          element.parentElement.parentElement.remove();
        }
      </script>
</body>
</html>